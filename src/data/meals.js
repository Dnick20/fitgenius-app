// Comprehensive Meal Database with 15+ options per category
export const MEAL_DATABASE = {
  breakfast: [
    { id: 'b1', name: 'Greek Yogurt Parfait', calories: 250, protein: 20, carbs: 30, fat: 8, description: 'Creamy yogurt with berries and granola', prepTime: 5, servings: 1, difficulty: 'Easy' },
    { id: 'b2', name: 'Avocado Toast', calories: 300, protein: 12, carbs: 35, fat: 18, description: 'Whole grain toast with fresh avocado', prepTime: 10, servings: 1, difficulty: 'Easy' },
    { id: 'b3', name: 'Protein Smoothie Bowl', calories: 280, protein: 25, carbs: 28, fat: 10, description: 'Blended fruits with protein powder', prepTime: 8, servings: 1, difficulty: 'Easy' },
    { id: 'b4', name: 'Overnight Oats', calories: 320, protein: 15, carbs: 45, fat: 12, description: 'Oats soaked with milk and toppings', prepTime: 5, servings: 1, difficulty: 'Easy' },
    { id: 'b5', name: 'Egg White Scramble', calories: 200, protein: 24, carbs: 8, fat: 8, description: 'Fluffy egg whites with vegetables', prepTime: 12, servings: 1, difficulty: 'Easy' },
    { id: 'b6', name: 'Banana Pancakes', calories: 350, protein: 18, carbs: 48, fat: 14, description: 'Protein-rich pancakes with banana', prepTime: 15, servings: 2, difficulty: 'Medium' },
    { id: 'b7', name: 'Chia Pudding', calories: 220, protein: 8, carbs: 25, fat: 12, description: 'Chia seeds soaked in almond milk', prepTime: 5, servings: 1, difficulty: 'Easy' },
    { id: 'b8', name: 'Breakfast Burrito', calories: 380, protein: 22, carbs: 35, fat: 18, description: 'Eggs, beans, and veggies wrapped', prepTime: 20, servings: 1, difficulty: 'Medium' },
    { id: 'b9', name: 'Steel Cut Oatmeal', calories: 280, protein: 12, carbs: 50, fat: 8, description: 'Hearty oats with nuts and fruit', prepTime: 25, servings: 2, difficulty: 'Medium' },
    { id: 'b10', name: 'Quinoa Breakfast Bowl', calories: 310, protein: 14, carbs: 45, fat: 10, description: 'Quinoa with berries and nuts', prepTime: 15, servings: 1, difficulty: 'Easy' },
    { id: 'b11', name: 'Vegetable Omelet', calories: 290, protein: 20, carbs: 8, fat: 20, description: 'Fluffy eggs with seasonal vegetables', prepTime: 12, servings: 1, difficulty: 'Medium' },
    { id: 'b12', name: 'Acai Bowl', calories: 240, protein: 8, carbs: 38, fat: 9, description: 'Antioxidant-rich acai with toppings', prepTime: 8, servings: 1, difficulty: 'Easy' },
    { id: 'b13', name: 'French Toast', calories: 320, protein: 15, carbs: 42, fat: 12, description: 'Whole grain bread with cinnamon', prepTime: 15, servings: 2, difficulty: 'Medium' },
    { id: 'b14', name: 'Breakfast Quinoa', calories: 260, protein: 10, carbs: 40, fat: 8, description: 'Warm quinoa with almond milk', prepTime: 18, servings: 1, difficulty: 'Easy' },
    { id: 'b15', name: 'Green Smoothie', calories: 200, protein: 12, carbs: 28, fat: 6, description: 'Spinach, banana, and protein powder', prepTime: 5, servings: 1, difficulty: 'Easy' },
    { id: 'b16', name: 'Cottage Cheese Bowl', calories: 250, protein: 25, carbs: 15, fat: 8, description: 'High-protein cottage cheese with fruit', prepTime: 5, servings: 1, difficulty: 'Easy' }
  ],
  lunch: [
    { id: 'l1', name: 'Quinoa Power Bowl', calories: 400, protein: 15, carbs: 45, fat: 20, description: 'Quinoa with roasted vegetables', prepTime: 25, servings: 1, difficulty: 'Medium' },
    { id: 'l2', name: 'Grilled Chicken Wrap', calories: 450, protein: 35, carbs: 40, fat: 15, description: 'Lean chicken in whole wheat wrap', prepTime: 15, servings: 1, difficulty: 'Easy' },
    { id: 'l3', name: 'Mediterranean Salad', calories: 380, protein: 18, carbs: 25, fat: 25, description: 'Fresh greens with feta and olives', prepTime: 10, servings: 1, difficulty: 'Easy' },
    { id: 'l4', name: 'Turkey & Hummus Bowl', calories: 420, protein: 30, carbs: 35, fat: 18, description: 'Sliced turkey with creamy hummus', prepTime: 8, servings: 1, difficulty: 'Easy' },
    { id: 'l5', name: 'Veggie Stir-fry', calories: 350, protein: 12, carbs: 50, fat: 14, description: 'Colorful vegetables with brown rice', prepTime: 20, servings: 2, difficulty: 'Medium' },
    { id: 'l6', name: 'Buddha Bowl', calories: 420, protein: 18, carbs: 48, fat: 18, description: 'Mixed grains with roasted vegetables', prepTime: 30, servings: 1, difficulty: 'Medium' },
    { id: 'l7', name: 'Chicken Caesar Salad', calories: 380, protein: 32, carbs: 15, fat: 22, description: 'Grilled chicken with romaine and parmesan', prepTime: 15, servings: 1, difficulty: 'Easy' },
    { id: 'l8', name: 'Lentil Soup', calories: 320, protein: 18, carbs: 45, fat: 8, description: 'Hearty lentils with vegetables', prepTime: 40, servings: 3, difficulty: 'Medium' },
    { id: 'l9', name: 'Tuna Poke Bowl', calories: 410, protein: 28, carbs: 35, fat: 16, description: 'Fresh tuna with brown rice and avocado', prepTime: 15, servings: 1, difficulty: 'Medium' },
    { id: 'l10', name: 'Chickpea Curry', calories: 390, protein: 16, carbs: 52, fat: 14, description: 'Spiced chickpeas with basmati rice', prepTime: 30, servings: 2, difficulty: 'Medium' },
    { id: 'l11', name: 'Grilled Salmon Salad', calories: 450, protein: 35, carbs: 20, fat: 28, description: 'Omega-rich salmon over mixed greens', prepTime: 20, servings: 1, difficulty: 'Medium' },
    { id: 'l12', name: 'Black Bean Quesadilla', calories: 380, protein: 20, carbs: 42, fat: 16, description: 'Protein-packed beans with cheese', prepTime: 12, servings: 1, difficulty: 'Easy' },
    { id: 'l13', name: 'Tofu Pad Thai', calories: 400, protein: 20, carbs: 48, fat: 14, description: 'Plant-based protein with rice noodles', prepTime: 25, servings: 1, difficulty: 'Medium' },
    { id: 'l14', name: 'Turkey Club Sandwich', calories: 420, protein: 28, carbs: 38, fat: 18, description: 'Lean turkey with bacon and veggies', prepTime: 10, servings: 1, difficulty: 'Easy' },
    { id: 'l15', name: 'Stuffed Sweet Potato', calories: 360, protein: 15, carbs: 58, fat: 10, description: 'Baked sweet potato with black beans', prepTime: 45, servings: 1, difficulty: 'Easy' },
    { id: 'l16', name: 'Protein Pasta Salad', calories: 440, protein: 22, carbs: 48, fat: 16, description: 'Whole grain pasta with vegetables', prepTime: 20, servings: 2, difficulty: 'Easy' }
  ],
  dinner: [
    { id: 'd1', name: 'Baked Salmon Filet', calories: 500, protein: 40, carbs: 25, fat: 28, description: 'Omega-rich salmon with sweet potato', prepTime: 35, servings: 1, difficulty: 'Medium' },
    { id: 'd2', name: 'Lean Beef Stir-fry', calories: 480, protein: 38, carbs: 30, fat: 22, description: 'Tender beef with mixed vegetables', prepTime: 25, servings: 2, difficulty: 'Medium' },
    { id: 'd3', name: 'Chicken Breast Dinner', calories: 420, protein: 45, carbs: 25, fat: 15, description: 'Grilled chicken with quinoa', prepTime: 30, servings: 1, difficulty: 'Medium' },
    { id: 'd4', name: 'Vegetarian Curry', calories: 380, protein: 15, carbs: 50, fat: 18, description: 'Protein-rich lentil curry', prepTime: 35, servings: 3, difficulty: 'Medium' },
    { id: 'd5', name: 'Turkey Meatballs', calories: 440, protein: 35, carbs: 30, fat: 20, description: 'Lean turkey with marinara sauce', prepTime: 40, servings: 3, difficulty: 'Medium' },
    { id: 'd6', name: 'Grilled Shrimp Tacos', calories: 380, protein: 28, carbs: 35, fat: 15, description: 'Seasoned shrimp with corn tortillas', prepTime: 20, servings: 2, difficulty: 'Medium' },
    { id: 'd7', name: 'Stuffed Bell Peppers', calories: 420, protein: 25, carbs: 40, fat: 18, description: 'Ground turkey stuffed peppers', prepTime: 50, servings: 2, difficulty: 'Medium' },
    { id: 'd8', name: 'Pork Tenderloin', calories: 460, protein: 42, carbs: 28, fat: 20, description: 'Lean pork with roasted vegetables', prepTime: 45, servings: 2, difficulty: 'Medium' },
    { id: 'd9', name: 'Vegetable Lasagna', calories: 390, protein: 22, carbs: 45, fat: 16, description: 'Layers of vegetables and cheese', prepTime: 60, servings: 4, difficulty: 'Hard' },
    { id: 'd10', name: 'Cod Fish Dinner', calories: 350, protein: 35, carbs: 25, fat: 12, description: 'Baked cod with herb quinoa', prepTime: 30, servings: 1, difficulty: 'Medium' },
    { id: 'd11', name: 'Chicken Fajitas', calories: 420, protein: 32, carbs: 38, fat: 16, description: 'Sizzling chicken with peppers', prepTime: 25, servings: 2, difficulty: 'Medium' },
    { id: 'd12', name: 'Beef and Broccoli', calories: 450, protein: 35, carbs: 32, fat: 20, description: 'Classic stir-fry with brown rice', prepTime: 20, servings: 2, difficulty: 'Easy' },
    { id: 'd13', name: 'Eggplant Parmesan', calories: 400, protein: 18, carbs: 42, fat: 20, description: 'Breaded eggplant with marinara', prepTime: 55, servings: 3, difficulty: 'Hard' },
    { id: 'd14', name: 'Thai Curry Chicken', calories: 440, protein: 30, carbs: 35, fat: 22, description: 'Coconut curry with jasmine rice', prepTime: 30, servings: 2, difficulty: 'Medium' },
    { id: 'd15', name: 'Zucchini Noodles', calories: 320, protein: 25, carbs: 15, fat: 18, description: 'Spiralized zucchini with meat sauce', prepTime: 25, servings: 1, difficulty: 'Medium' },
    { id: 'd16', name: 'Stuffed Portobello', calories: 360, protein: 20, carbs: 28, fat: 20, description: 'Mushroom caps stuffed with quinoa', prepTime: 35, servings: 2, difficulty: 'Medium' }
  ],
  snacks: [
    { id: 's1', name: 'Mixed Nuts', calories: 180, protein: 6, carbs: 8, fat: 16, description: 'Almonds, walnuts, and cashews', prepTime: 1, servings: 1, difficulty: 'Easy' },
    { id: 's2', name: 'Apple & Peanut Butter', calories: 200, protein: 8, carbs: 25, fat: 10, description: 'Crisp apple with natural PB', prepTime: 2, servings: 1, difficulty: 'Easy' },
    { id: 's3', name: 'Protein Bar', calories: 220, protein: 20, carbs: 25, fat: 8, description: 'Convenient protein-packed bar', prepTime: 1, servings: 1, difficulty: 'Easy' },
    { id: 's4', name: 'Greek Yogurt Cup', calories: 150, protein: 15, carbs: 18, fat: 3, description: 'Creamy plain Greek yogurt', prepTime: 1, servings: 1, difficulty: 'Easy' },
    { id: 's5', name: 'Trail Mix', calories: 190, protein: 5, carbs: 20, fat: 12, description: 'Nuts, seeds, and dried fruit', prepTime: 1, servings: 1, difficulty: 'Easy' },
    { id: 's6', name: 'Hummus & Veggies', calories: 120, protein: 6, carbs: 15, fat: 5, description: 'Fresh vegetables with hummus dip', prepTime: 5, servings: 1, difficulty: 'Easy' },
    { id: 's7', name: 'Cheese & Crackers', calories: 160, protein: 8, carbs: 12, fat: 10, description: 'Whole grain crackers with cheese', prepTime: 2, servings: 1, difficulty: 'Easy' },
    { id: 's8', name: 'Protein Smoothie', calories: 180, protein: 20, carbs: 15, fat: 6, description: 'Quick protein shake', prepTime: 3, servings: 1, difficulty: 'Easy' },
    { id: 's9', name: 'Energy Balls', calories: 140, protein: 4, carbs: 18, fat: 7, description: 'No-bake oat and nut balls', prepTime: 15, servings: 6, difficulty: 'Easy' },
    { id: 's10', name: 'Banana & Almond Butter', calories: 190, protein: 6, carbs: 22, fat: 10, description: 'Potassium-rich banana with AB', prepTime: 2, servings: 1, difficulty: 'Easy' },
    { id: 's11', name: 'Hard-Boiled Eggs', calories: 140, protein: 12, carbs: 1, fat: 10, description: 'Two perfectly cooked eggs', prepTime: 12, servings: 1, difficulty: 'Easy' },
    { id: 's12', name: 'Cottage Cheese & Berries', calories: 130, protein: 14, carbs: 12, fat: 4, description: 'Protein-rich cottage cheese', prepTime: 2, servings: 1, difficulty: 'Easy' },
    { id: 's13', name: 'Edamame', calories: 100, protein: 8, carbs: 8, fat: 4, description: 'Steamed young soybeans', prepTime: 5, servings: 1, difficulty: 'Easy' },
    { id: 's14', name: 'Dark Chocolate Square', calories: 90, protein: 2, carbs: 8, fat: 6, description: 'Antioxidant-rich dark chocolate', prepTime: 1, servings: 1, difficulty: 'Easy' },
    { id: 's15', name: 'Avocado Half', calories: 160, protein: 2, carbs: 8, fat: 14, description: 'Fresh avocado with sea salt', prepTime: 2, servings: 1, difficulty: 'Easy' },
    { id: 's16', name: 'Protein Muffin', calories: 170, protein: 12, carbs: 20, fat: 6, description: 'Homemade protein-packed muffin', prepTime: 25, servings: 8, difficulty: 'Medium' }
  ]
};

// Meal management helper functions
export const getMealsByType = (type) => MEAL_DATABASE[type] || [];
export const getAllMeals = () => Object.values(MEAL_DATABASE).flat();
export const getMealCategories = () => Object.keys(MEAL_DATABASE);

export const getMealById = (id) => {
  const allMeals = getAllMeals();
  return allMeals.find(meal => meal.id === id);
};

export const getRandomMeals = (count = 5) => {
  const allMeals = getAllMeals();
  const shuffled = allMeals.sort(() => 0.5 - Math.random());
  return shuffled.slice(0, count);
};

export const filterMealsByCalories = (minCal, maxCal) => {
  const allMeals = getAllMeals();
  return allMeals.filter(meal => 
    meal.calories >= minCal && meal.calories <= maxCal
  );
};

export const filterMealsByProtein = (minProtein) => {
  const allMeals = getAllMeals();
  return allMeals.filter(meal => meal.protein >= minProtein);
};

export const searchMeals = (query) => {
  const allMeals = getAllMeals();
  const searchTerm = query.toLowerCase();
  return allMeals.filter(meal => 
    meal.name.toLowerCase().includes(searchTerm) ||
    meal.description.toLowerCase().includes(searchTerm)
  );
};

// Nutritional analysis helpers
export const calculateMealMacros = (meals) => {
  return meals.reduce((totals, meal) => ({
    calories: totals.calories + meal.calories,
    protein: totals.protein + meal.protein,
    carbs: totals.carbs + meal.carbs,
    fat: totals.fat + meal.fat
  }), { calories: 0, protein: 0, carbs: 0, fat: 0 });
};

export const getMealsByDifficulty = (difficulty) => {
  const allMeals = getAllMeals();
  return allMeals.filter(meal => meal.difficulty === difficulty);
};

export const getMealsByPrepTime = (maxTime) => {
  const allMeals = getAllMeals();
  return allMeals.filter(meal => meal.prepTime <= maxTime);
};